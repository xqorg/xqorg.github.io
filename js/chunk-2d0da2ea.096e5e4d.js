(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0da2ea"],{"6b08":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("page-header-wrapper",[t("a-card",{attrs:{bordered:!1}},[t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"}},[t("a-row",{attrs:{gutter:48}},[t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{label:"登录地址"}},[t("a-input",{attrs:{placeholder:"请输入登录地址","allow-clear":""},model:{value:e.queryParam.ipaddr,callback:function(t){e.$set(e.queryParam,"ipaddr",t)},expression:"queryParam.ipaddr"}})],1)],1),t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{label:"用户名称"}},[t("a-input",{attrs:{placeholder:"请输入用户名称","allow-clear":""},model:{value:e.queryParam.userName,callback:function(t){e.$set(e.queryParam,"userName",t)},expression:"queryParam.userName"}})],1)],1),t("a-col",{attrs:{md:8,sm:24}},[t("span",{staticClass:"table-page-search-submitButtons"},[t("a-button",{attrs:{type:"primary"},on:{click:e.handleQuery}},[t("a-icon",{attrs:{type:"search"}}),e._v("查询")],1),t("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.resetQuery}},[t("a-icon",{attrs:{type:"redo"}}),e._v("重置")],1)],1)])],1)],1)],1),t("div",{staticClass:"table-operations"},[t("table-setting",{style:{float:"right"},attrs:{"table-size":e.tableSize,"refresh-loading":e.loading},on:{"update:tableSize":function(t){e.tableSize=t},"update:table-size":function(t){e.tableSize=t},refresh:e.getList},model:{value:e.columns,callback:function(t){e.columns=t},expression:"columns"}})],1),t("a-table",{attrs:{loading:e.loading,size:e.tableSize,rowKey:"tokenId",columns:e.columns,"data-source":e.list,pagination:!1,bordered:e.tableBordered},scopedSlots:e._u([{key:"loginTime",fn:function(a,n){return t("span",{},[e._v(" "+e._s(e.parseTime(n.loginTime))+" ")])}},{key:"operation",fn:function(a,n){return t("span",{},[t("a-popconfirm",{attrs:{"ok-text":"是","cancel-text":"否"},on:{confirm:function(t){return e.confirmHandleForceLogout(n)},cancel:function(t){return e.cancelHandleForceLogout(n)}}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("确认强退"),t("b",[e._v(e._s(n.userName))]),e._v("的用户吗?")]),t("a",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:online:forceLogout"],expression:"['monitor:online:forceLogout']"}]},[e._v(" 强退 ")])])],1)}}])}),t("a-pagination",{staticClass:"ant-table-pagination",attrs:{"show-size-changer":"","show-quick-jumper":"",current:e.queryParam.pageNum,total:e.total,"page-size":e.queryParam.pageSize,showTotal:function(e){return"共 ".concat(e," 条")}},on:{showSizeChange:e.onShowSizeChange,change:e.changeSize}})],1)],1)},i=[],r=a("b775");function o(e){return Object(r["b"])({url:"/monitor/online/list",method:"get",params:e})}function s(e){return Object(r["b"])({url:"/monitor/online/"+e,method:"delete"})}var l=a("435a"),c={name:"Online",components:{},mixins:[l["a"]],data:function(){return{list:[],loading:!1,total:0,multiple:!0,queryParam:{pageNum:1,pageSize:10,ipaddr:void 0,userName:void 0},columns:[{title:"会话编号",dataIndex:"tokenId",ellipsis:!0,align:"center"},{title:"登录名称",dataIndex:"userName",align:"center"},{title:"部门名称",dataIndex:"deptName",align:"center"},{title:"主机",dataIndex:"ipaddr",ellipsis:!0,align:"center"},{title:"登录地点",dataIndex:"loginLocation",align:"center"},{title:"浏览器",dataIndex:"browser",align:"center"},{title:"操作系统",dataIndex:"os",align:"center"},{title:"登录时间",dataIndex:"loginTime",width:180,scopedSlots:{customRender:"loginTime"},align:"center"},{title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"},align:"center"}]}},filters:{},created:function(){this.getList()},computed:{},watch:{},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParam).then((function(t){e.list=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParam.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.queryParam={pageNum:1,pageSize:10,ipaddr:void 0,userName:void 0},this.handleQuery()},onShowSizeChange:function(e,t){this.queryParam.pageSize=t,this.getList()},changeSize:function(e,t){this.queryParam.pageNum=e,this.queryParam.pageSize=t,this.getList()},confirmHandleForceLogout:function(e){var t=this;s(e.tokenId).then((function(){t.getList(),t.$message.success("已强退",3)})).catch((function(){this.$message.error("发生异常",3)}))},cancelHandleForceLogout:function(e){}}},u=c,d=a("2877"),m=Object(d["a"])(u,n,i,!1,null,null,null);t["default"]=m.exports}}]);