(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-99bcc778"],{3528:function(e,t,a){"use strict";a.d(t,"k",(function(){return r})),a.d(t,"j",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"m",(function(){return o})),a.d(t,"g",(function(){return u})),a.d(t,"f",(function(){return l})),a.d(t,"h",(function(){return c})),a.d(t,"b",(function(){return d})),a.d(t,"l",(function(){return m})),a.d(t,"c",(function(){return h})),a.d(t,"d",(function(){return p})),a.d(t,"e",(function(){return g})),a.d(t,"i",(function(){return b}));var n=a("b775");function r(e){return Object(n["b"])({url:"/system/role/list",method:"get",params:e})}function s(e){return Object(n["b"])({url:"/system/role/"+e,method:"get"})}function i(e){return Object(n["b"])({url:"/system/role",method:"post",data:e})}function o(e){return Object(n["b"])({url:"/system/role",method:"put",data:e})}function u(e){return Object(n["b"])({url:"/system/role/dataScope",method:"put",data:e})}function l(e,t){var a={roleId:e,status:t};return Object(n["b"])({url:"/system/role/changeStatus",method:"put",data:a})}function c(e){return Object(n["b"])({url:"/system/role/"+e,method:"delete"})}function d(e){return Object(n["b"])({url:"/system/role/authUser/allocatedList",method:"get",params:e})}function m(e){return Object(n["b"])({url:"/system/role/authUser/unallocatedList",method:"get",params:e})}function h(e){return Object(n["b"])({url:"/system/role/authUser/cancel",method:"put",data:e})}function p(e){return Object(n["b"])({url:"/system/role/authUser/cancelAll",method:"put",params:e})}function g(e){return Object(n["b"])({url:"/system/role/authUser/selectAll",method:"put",params:e})}function b(e){return Object(n["b"])({url:"/system/role/deptTree/"+e,method:"get"})}},f2ab:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("a-modal",{ref:"authRole",attrs:{title:"选择用户",width:900,visible:e.visible,"confirm-loading":e.submitLoading},on:{cancel:e.close,ok:e.confirm}},[t("div",{staticClass:"page-header-content"},[t("a-card",{staticClass:"content",attrs:{bordered:!1}},[t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"}},[t("a-row",{attrs:{gutter:48}},[t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{label:"用户名称"}},[t("a-input",{attrs:{placeholder:"请输入","allow-clear":""},model:{value:e.queryParam.userName,callback:function(t){e.$set(e.queryParam,"userName",t)},expression:"queryParam.userName"}})],1)],1),t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{label:"手机号码"}},[t("a-input",{attrs:{placeholder:"请输入","allow-clear":""},model:{value:e.queryParam.phonenumber,callback:function(t){e.$set(e.queryParam,"phonenumber",t)},expression:"queryParam.phonenumber"}})],1)],1),t("a-col",{attrs:{md:8,sm:24}},[t("span",{staticClass:"table-page-search-submitButtons"},[t("a-button",{attrs:{type:"primary"},on:{click:e.handleQuery}},[t("a-icon",{attrs:{type:"search"}}),e._v("查询")],1),t("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.resetQuery}},[t("a-icon",{attrs:{type:"redo"}}),e._v("重置")],1)],1)])],1)],1)],1),t("a-table",{attrs:{loading:e.loading,size:"small",rowKey:"userId",columns:e.columns,"data-source":e.list,"row-selection":{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange},scroll:{y:e.tableHeight},pagination:!1},scopedSlots:e._u([{key:"status",fn:function(a,n){return t("span",{},[t("dict-tag",{attrs:{options:e.statusOptions,value:n.status}})],1)}},{key:"createTime",fn:function(a,n){return t("span",{},[e._v(" "+e._s(e.parseTime(n.createTime))+" ")])}}])}),t("a-pagination",{staticClass:"ant-table-pagination",attrs:{"show-size-changer":"","show-quick-jumper":"",current:e.queryParam.pageNum,total:e.total,"page-size":e.queryParam.pageSize,showTotal:function(e){return"共 ".concat(e," 条")}},on:{showSizeChange:e.onShowSizeChange,change:e.changeSize}})],1)],1)])},r=[],s=(a("d81d"),a("d3b7"),a("3528")),i={name:"AuthUser",props:{roleId:{type:String,required:!0},statusOptions:{type:Array,required:!0}},components:{},data:function(){return{list:[],user:{},selectedRowKeys:[],selectedRows:[],tableHeight:document.documentElement.scrollHeight-500+"px",userIds:[],loading:!1,total:0,submitLoading:!1,visible:!1,queryParam:{pageNum:1,pageSize:10,roleId:void 0,userName:void 0,phonenumber:void 0},columns:[{title:"用户名称",dataIndex:"userName",align:"center"},{title:"用户昵称",dataIndex:"nickName",ellipsis:!0,align:"center"},{title:"邮箱",dataIndex:"email",ellipsis:!0,align:"center"},{title:"手机",dataIndex:"phonenumber",ellipsis:!0,align:"center"},{title:"状态",dataIndex:"status",scopedSlots:{customRender:"status"},align:"center"},{title:"创建时间",dataIndex:"createTime",scopedSlots:{customRender:"createTime"},ellipsis:!0,align:"center"}]}},created:function(){},methods:{getList:function(){var e=this;this.loading=!0,Object(s["l"])(this.queryParam).then((function(t){e.list=t.rows,e.total=t.total,e.loading=!1}))},close:function(){this.visible=!1,this.selectedRowKeys=[],this.selectedRows=[]},handleAuthUser:function(){this.queryParam.roleId=this.roleId,this.visible=!0,this.getList()},confirm:function(){var e=this,t={roleId:this.queryParam.roleId,userIds:this.userIds};this.submitLoading=!0,Object(s["e"])(t).then((function(t){e.$message.success(t.msg),e.visible=!1,e.$emit("ok")})).finally((function(){e.submitLoading=!1}))},handleQuery:function(){this.queryParam.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.queryParam={pageNum:1,pageSize:10,roleId:this.queryParam.roleId,userName:void 0,phonenumber:void 0},this.handleQuery()},onShowSizeChange:function(e,t){this.queryParam.pageSize=t,this.getList()},changeSize:function(e,t){this.queryParam.pageNum=e,this.queryParam.pageSize=t,this.getList()},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t,this.userIds=this.selectedRows.map((function(e){return e.userId})),this.single=1!==e.length,this.multiple=!e.length}}},o=i,u=a("2877"),l=Object(u["a"])(o,n,r,!1,null,null,null);t["default"]=l.exports}}]);