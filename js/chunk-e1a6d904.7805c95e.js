(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e1a6d904"],{"9f66":function(e,t,a){"use strict";a.r(t);var c=function(){var e=this,t=e._self._c;return t("page-header-wrapper",[t("a-space",{staticStyle:{width:"100%"},attrs:{direction:"vertical"}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:8}},[t("a-card",{attrs:{loading:e.loading,title:"缓存列表",bordered:!1}},[t("a-space",{attrs:{slot:"extra"},slot:"extra"},[t("a-popconfirm",{attrs:{"ok-text":"是","cancel-text":"否"},on:{confirm:function(t){return e.handleClearCacheAll()}}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("确认"),t("b",[e._v("清除全部缓存")]),e._v("吗?")]),t("a",[t("a-icon",{attrs:{type:"delete"}})],1)]),t("a-divider",{attrs:{type:"vertical"}}),t("a",{on:{click:function(t){return e.refreshCacheNames()}}},[t("a-icon",{attrs:{type:"sync"}})],1)],1),t("a-table",{attrs:{loading:e.loading,size:"middle",rowKey:"cacheName",columns:e.cacheColumns,"data-source":e.cacheNames,customRow:e.customRow,pagination:!1,bordered:!1},scopedSlots:e._u([{key:"cacheName",fn:function(a,c){return t("span",{},[e._v(" "+e._s(e.nameFormatter(c))+" ")])}},{key:"operation",fn:function(a,c){return t("span",{},[t("a-popconfirm",{attrs:{"ok-text":"是","cancel-text":"否"},on:{confirm:function(t){return e.handleClearCacheName(c)}}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("确认"),t("b",[e._v("删除")]),e._v("缓存: "+e._s(c.cacheName)+" 吗?")]),t("a",[t("a-icon",{attrs:{type:"delete"}})],1)])],1)}}])})],1)],1),t("a-col",{attrs:{span:8}},[t("a-card",{attrs:{loading:e.loading,title:"键名列表",bordered:!1}},[t("a",{attrs:{slot:"extra"},on:{click:function(t){return e.refreshCacheKeys()}},slot:"extra"},[t("a-icon",{attrs:{type:"sync"}})],1),t("a-list",{attrs:{"data-source":e.cacheKeys},scopedSlots:e._u([{key:"renderItem",fn:function(a){return t("a-list-item",{},[t("a-popconfirm",{attrs:{slot:"actions","ok-text":"是","cancel-text":"否"},on:{confirm:function(t){return e.handleClearCacheKey(a)}},slot:"actions"},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("确认"),t("b",[e._v("删除")]),e._v("缓存: "+e._s(a)+" 吗?")]),t("a",[t("a-icon",{attrs:{type:"delete"}})],1)]),t("a-list-item-meta",{on:{click:function(t){return e.handleCacheValue(a)}}},[t("ellipsis",{attrs:{slot:"description",length:35},slot:"description"},[e._v(" "+e._s(e.keyFormatter(a))+" ")])],1)],1)}}])},[t("div",{attrs:{slot:"header"},slot:"header"},[e._v(" "+e._s(e.nowCacheName)+" ")])])],1)],1),t("a-col",{attrs:{span:8}},[t("a-card",{attrs:{loading:e.loading,title:"缓存内容",bordered:!1}},[t("a-descriptions",{staticStyle:{"word-break":"break-all"},attrs:{size:"middle",layout:"vertical",column:3,bordered:""}},[t("a-descriptions-item",{attrs:{label:"缓存名称",span:3}},[e._v(" "+e._s(e.cacheForm.cacheName)+" ")]),t("a-descriptions-item",{attrs:{label:"缓存键名",span:3}},[e._v(" "+e._s(e.cacheForm.cacheKey)+" ")]),t("a-descriptions-item",{attrs:{label:"缓存内容",span:3}},[e._v(" "+e._s(e.cacheForm.cacheValue)+" ")])],1)],1)],1)],1)],1)],1)},n=[],r=(a("ac1f"),a("5319"),a("ceee")),o=a("2af9"),s={name:"CacheList",components:{Ellipsis:o["c"]},data:function(){return{loading:!0,cacheColumns:[{title:"缓存名称",dataIndex:"cacheName",scopedSlots:{customRender:"cacheName"},ellipsis:!0,align:"center"},{title:"备注",dataIndex:"remark",ellipsis:!0,align:"center"},{title:"操作",dataIndex:"operation",width:"20%",scopedSlots:{customRender:"operation"},align:"center"}],cacheSubColumns:[{title:"缓存键名",dataIndex:"cacheKey",scopedSlots:{customRender:"cacheKey"},ellipsis:!0,align:"center"},{title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"},align:"center"}],commandstats:null,usedmemory:null,cache:[],cacheNames:[],cacheKeys:[],cacheForm:{},subLoading:!1,nowCacheName:""}},filters:{},created:function(){this.getCacheNames()},computed:{},watch:{},methods:{getCacheNames:function(){var e=this;this.loading=!0,Object(r["g"])().then((function(t){e.cacheNames=t.data,e.loading=!1}))},customRow:function(e,t){var a=this,c=e.cacheName===this.nowCacheName?{}:{opacity:.7};return{on:{click:function(){a.getCacheKeys(e)}},style:c}},refreshCacheNames:function(){this.getCacheNames(),this.$message.success("刷新缓存列表成功",3)},handleClearCacheName:function(e){var t=this;Object(r["c"])(e.cacheName).then((function(e){t.$message.success("清理缓存名称["+t.nowCacheName+"]成功",3),t.getCacheKeys()}))},getCacheKeys:function(e){var t=this,a=void 0!==e?e.cacheName:this.nowCacheName;""!==a&&(this.subLoading=!0,Object(r["f"])(a).then((function(e){t.cacheKeys=e.data,t.subLoading=!1,t.nowCacheName=a})))},refreshCacheKeys:function(){this.getCacheKeys(),this.$message.success("刷新键名列表成功",3)},handleClearCacheKey:function(e){var t=this;Object(r["b"])(e).then((function(a){t.$message.success("清理缓存键名["+e+"]成功",3),t.getCacheKeys()}))},nameFormatter:function(e){return e.cacheName.replace(":","")},keyFormatter:function(e){return e.replace(this.nowCacheName,"")},handleCacheValue:function(e){var t=this;Object(r["e"])(this.nowCacheName,e).then((function(e){t.cacheForm=e.data}))},handleClearCacheAll:function(){var e=this;Object(r["a"])().then((function(t){e.$message.success("清理全部缓存成功",3)}))}}},i=s,l=a("2877"),u=Object(l["a"])(i,c,n,!1,null,null,null);t["default"]=u.exports},ceee:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"g",(function(){return r})),a.d(t,"f",(function(){return o})),a.d(t,"e",(function(){return s})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return u}));var c=a("b775");function n(){return Object(c["b"])({url:"/monitor/cache",method:"get"})}function r(){return Object(c["b"])({url:"/monitor/cache/getNames",method:"get"})}function o(e){return Object(c["b"])({url:"/monitor/cache/getKeys/"+e,method:"get"})}function s(e,t){return Object(c["b"])({url:"/monitor/cache/getValue/"+e+"/"+t,method:"get"})}function i(e){return Object(c["b"])({url:"/monitor/cache/clearCacheName/"+e,method:"delete"})}function l(e){return Object(c["b"])({url:"/monitor/cache/clearCacheKey/"+e,method:"delete"})}function u(){return Object(c["b"])({url:"/monitor/cache/clearCacheAll",method:"delete"})}}}]);