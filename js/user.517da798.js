(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user","chunk-53418438","chunk-04a4ff2a"],{1348:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e._self._c;return r("div",{staticClass:"main user-layout-register"},[r("a-form-model",{ref:"form",attrs:{model:e.form,rules:e.rules}},[e.isRegisterError?r("a-alert",{staticStyle:{"margin-bottom":"24px"},attrs:{type:"error",showIcon:"",message:e.registerErrorInfo,closable:"","after-close":e.handleCloseRegisterError}}):e._e(),r("a-form-model-item",{attrs:{prop:"username"}},[r("a-input",{attrs:{size:"large",autocomplete:"off",placeholder:e.$t("user.input.name")},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username",r)},expression:"form.username"}})],1),r("a-form-model-item",{attrs:{"has-feedback":"",prop:"email"}},[r("a-input",{attrs:{size:"large",autocomplete:"off",placeholder:e.$t("user.input.email"),maxLength:130},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}})],1),e.captchaEnabled?r("a-row",{attrs:{gutter:16}},[r("a-col",{staticClass:"gutter-row",attrs:{span:17}},[r("a-form-model-item",{attrs:{prop:"code"}},[r("a-input",{attrs:{size:"large",type:"text",autocomplete:"off",placeholder:e.$t("user.input.email.code")},model:{value:e.form.code,callback:function(r){e.$set(e.form,"code",r)},expression:"form.code"}},[r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"security-scan"},slot:"prefix"})],1)],1)],1),r("a-col",{staticClass:"gutter-row",staticStyle:{"margin-left":"-4px"},attrs:{span:7}},[r("a-button",{attrs:{type:"primary",size:"large",loading:e.sendLoading,disabled:e.disSendBtn},on:{click:e.verificationCode}},[e._v("Get Code")])],1)],1):e._e(),r("a-form-model-item",{attrs:{"has-feedback":"",prop:"password"}},[r("a-input-password",{attrs:{size:"large",autocomplete:"off",placeholder:e.$t("user.input.pwd"),maxLength:20},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),r("a-form-model-item",{attrs:{"has-feedback":"",prop:"confirmPassword"}},[r("a-input-password",{attrs:{size:"large",autocomplete:"off",placeholder:e.$t("user.confirm.pwd"),maxLength:20},model:{value:e.form.confirmPassword,callback:function(r){e.$set(e.form,"confirmPassword",r)},expression:"form.confirmPassword"}})],1),r("a-form-item",[r("a-button",{staticClass:"register-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:e.registering,disabled:e.registering},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),e.handleRegister.apply(null,arguments)}}},[e._v(" "+e._s(e.$t("user.register"))+" ")]),r("router-link",{staticClass:"login",attrs:{to:{name:"login"}}},[e._v(e._s(e.$t("user.login")))])],1)],1)],1)},o=[],i=(t("ac1f"),t("d3b7"),t("7ded")),a=t("b775");function n(e){return Object(a["b"])({url:"/public/getMailCode",headers:{isToken:!1},method:"post",data:e})}var l={name:"Register",data:function(){var e=this,r=function(e,r,t){var s=/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/;s.test(r)||t("Your email is in the wrong format"),t()},t=function(r,t,s){""===t?s(new Error("Please enter a new password")):/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$)([^\u4e00-\u9fa5\s]){5,20}$/.test(t)?(""!==e.form.confirmPassword&&e.$refs.form.validateField("confirmPassword"),s()):s(new Error(e.$t("user.input.pwd.rule")))},s=function(r,t,s){""===t?s(new Error(e.$t("user.confirm.pwd"))):t!==e.form.password?s(new Error("The passwords entered twice are inconsistent")):s()};return{codeUrl:"",isRegisterError:!1,registerErrorInfo:"",sendLoading:!1,disSendBtn:!1,form:{username:void 0,password:void 0,confirmPassword:void 0,code:void 0,uuid:void 0,email:void 0},rules:{username:[{required:!0,trigger:"blur",message:this.$t("user.input.name")},{min:2,max:20,message:this.$t("user.input.name.rule"),trigger:"blur"}],email:[{required:!0,trigger:"blur",message:this.$t("user.input.email")},{min:4,max:20,validator:r,trigger:"blur"}],password:[{required:!0,trigger:"blur",message:this.$t("user.input.pwd")},{required:!0,validator:t,trigger:"blur"}],confirmPassword:[{required:!0,trigger:"blur",message:this.$t("user.confirm.pwd")},{required:!0,validator:s,trigger:"blur"}],code:[{required:!0,trigger:"change",message:this.$t("user.input.email.code")}]},registerBtn:!1,registering:!1,captchaEnabled:!0}},computed:{},created:function(){},methods:{verificationCode:function(){var e=/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/;if(e.test(this.form.email)){var r=this,t="2096394456",s=new TencentCaptcha(t,(function(e){if(0===e.ret){r.sendLoading=!0;var t={email:r.form.email,form:"register",ticket:e.ticket,randStr:e.randstr};n(t).then((function(e){200==e.code&&(r.disSendBtn=!0),r.sendLoading=!1}))}}));s.langFun(),s.show()}else this.$message.error("您的邮箱有误，请重新输入！")},handleRegister:function(){var e=this;this.$refs.form.validate((function(r){r?(e.registering=!0,Object(i["d"])(e.form).then((function(r){return e.registerSuccess(r)})).catch((function(r){return e.requestFailed(r)})).finally((function(){e.registering=!1}))):setTimeout((function(){e.registering=!1}),600)}))},registerSuccess:function(e){var r=this;this.$router.push({path:"/login"});this.form.username;setTimeout((function(){r.$notification.success({message:"Register Success"})}),1e3),this.handleCloseRegisterError()},requestFailed:function(e){this.isRegisterError=!0,this.registerErrorInfo=e,this.form.code=void 0},handleCloseRegisterError:function(){this.isRegisterError=!1,this.registerErrorInfo=""}}},u=l,c=(t("1e3e"),t("a9a0"),t("2877")),m=Object(c["a"])(u,s,o,!1,null,"25e4b2ed",null);r["default"]=m.exports},"1e3e":function(e,r,t){"use strict";t("da7b")},a9a0:function(e,r,t){"use strict";t("c046")},ac2a:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e._self._c;return r("div",{staticClass:"main"},[r("a-form-model",{ref:"form",staticClass:"user-layout-login",attrs:{id:"formLogin",model:e.form,rules:e.rules}},[e.isLoginError?r("a-alert",{staticStyle:{"margin-bottom":"24px"},attrs:{type:"error",showIcon:"",message:e.loginErrorInfo,closable:"","after-close":e.handleCloseLoginError}}):e._e(),r("a-form-model-item",{attrs:{prop:"username"}},[r("a-input",{attrs:{size:"large",placeholder:e.$t("user.input.email")},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username",r)},expression:"form.username"}},[r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),r("a-form-model-item",{attrs:{prop:"password"}},[r("a-input-password",{attrs:{size:"large",placeholder:e.$t("user.input.pwd")},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}},[r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),r("a-form-model-item",{attrs:{prop:"rememberMe"}},[r("a-checkbox",{attrs:{checked:e.form.rememberMe},on:{change:e.rememberMe}},[e._v(e._s(e.$t("user.remember.pwd")))])],1),r("a-form-item",{staticStyle:{"margin-top":"24px"}},[r("a-button",{staticClass:"login-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:e.logining,disabled:e.logining},on:{click:e.verificationCode}},[e._v(e._s(e.$t("user.login")))])],1),r("div",{staticClass:"user-login-other"},[r("router-link",{staticClass:"register",attrs:{to:{name:"register"}}},[e._v(e._s(e.$t("user.register")))])],1)],1)],1)},o=[],i=t("5530"),a=(t("d3b7"),t("5880")),n=(t("ca00"),t("9fb0")),l=t("8ded"),u=t.n(l),c={data:function(){return{codeUrl:"",isLoginError:!1,loginErrorInfo:"",form:{username:"",password:"",ticket:void 0,randStr:"",rememberMe:!1},rules:{username:[{required:!0,message:this.$t("user.input.email"),trigger:"blur"}],password:[{required:!0,message:this.$t("user.input.pwd"),trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]},logining:!1,captchaEnabled:!0}},created:function(){this.getStorage()},methods:Object(i["a"])(Object(i["a"])({verificationCode:function(){var e=this,r="2096394456",t=new TencentCaptcha(r,(function(r){0===r.ret&&(e.form.ticket=r.ticket,e.form.randStr=r.randstr,e.logining=!0,e.form.rememberMe?(u.a.set(n["g"],e.form.username),u.a.set(n["e"],e.form.password),u.a.set(n["f"],e.form.rememberMe)):(u.a.remove(n["g"]),u.a.remove(n["e"]),u.a.remove(n["f"])),e.Login(e.form).then((function(r){return e.loginSuccess(r)})).catch((function(r){return e.requestFailed(r)})).finally((function(){e.logining=!1})))}));t.langFun(),t.show()},getStorage:function(){var e=u.a.get(n["g"]),r=u.a.get(n["e"]),t=u.a.get(n["f"]);e&&(this.form={username:e,password:r,rememberMe:t})},rememberMe:function(e){this.form.rememberMe=e.target.checked}},Object(a["mapActions"])(["Login","Logout"])),{},{handleSubmit:function(){var e=this;this.$refs.form.validate((function(r){r&&e.$refs.verify.show()}))},loginSuccess:function(e){this.$router.push({path:"/"}),this.handleCloseLoginError()},requestFailed:function(e){this.isLoginError=!0,this.loginErrorInfo=e,this.form.code=void 0,this.captchaEnabled&&this.$refs.verify.show()},handleCloseLoginError:function(){this.isLoginError=!1,this.loginErrorInfo=""}})},m=c,d=(t("dddb"),t("2877")),f=Object(d["a"])(m,s,o,!1,null,"655af231",null);r["default"]=f.exports},c046:function(e,r,t){},ca00:function(e,r,t){"use strict";function s(){var e=new Date,r=e.getHours();return r<9?"早上好":r<=11?"上午好":r<=13?"中午好":r<20?"下午好":"晚上好"}t.d(r,"a",(function(){return s}))},da7b:function(e,r,t){},dc67:function(e,r,t){},dddb:function(e,r,t){"use strict";t("dc67")}}]);